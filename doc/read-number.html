<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <title>READ-NUMBER</title>
  <style type="text/css">
   *{margin:0;border:0;padding:0}
   body{color:#000;background-color:#fff;font-family:sans-serif;padding:1em;min-width:46em}
   a{color:inherit;background-color:transparent;text-decoration:none}
   table{border-collapse:collapse}
   div.title{padding:1em}
   div.subtitle{padding:1em}
   div.prologue{padding:1em}
   div.epilogue{padding:1em}
   span.category{color:#212121;font-style:italic}
   span.package,span.symbol{color:#212121;font-weight:700;white-space:nowrap}
   span.lambda-list{color:#616161}
   span.lambda-list-keyword{color:#388E3C;white-space:nowrap}
   span.keyword{color:#212121;white-space:nowrap}
   span.variable{color:#212121;font-style:italic;white-space:nowrap}
   span.init-form{white-space:nowrap}
   span.method-specializers{color:#616161}
   span.method-specializer{color:#212121;white-space:nowrap}
   span.method-qualifier{color:#212121;white-space:nowrap}
   span.error{color:#f57c00}
   div.contents{padding:1em}
   div.contents-listing{padding:1em}
   div.contents-listing ul{list-style-type:none}
   @media all and (min-width:68em){div.contents-listing{column-count:2;column-gap:2em}}
   div.definition{padding:1em}
   div.signature{background-color:#F5F5F5;padding:1ex 1em}
   table.signature td.symbol{text-align:left;vertical-align:baseline;white-space:nowrap;padding-right:.5em}
   table.signature td.lambda-list{text-align:left;vertical-align:baseline;width:100%}
   table.signature td.category{text-align:right;vertical-align:baseline;white-space:nowrap;padding-left:1.5em}
   div.documentation{padding:1em}
  </style>
 </head>
 <body>
  <div class="title">
   <h1>READ-NUMBER</h1>
  </div>
  <div class="prologue">
   <pre>Reading numbers from an input stream without using the Lisp reader.

The ‘<a href="#jky32s8h"><span class="symbol">read-integer</span></a>’ and ‘<a href="#y8h2eqpn"><span class="symbol">read-float</span></a>’ functions are designed to read
external number representations.  The ‘read-number’ function (to be
defined) is reserved for reading any Lisp number representation.</pre>
  </div>
  <div class="contents" id="contents">
   <h2>Contents</h2>
   <div class="contents-listing">
    <ul>
     <li>
      <a href="#kk5ncx2r">
       <span class="category">Special Variable</span>
       <span class="symbol">*default-plus-sign*</span>
      </a>
     </li>
     <li>
      <a href="#bpdr3zr8">
       <span class="category">Special Variable</span>
       <span class="symbol">*default-minus-sign*</span>
      </a>
     </li>
     <li>
      <a href="#h2a4ij2e">
       <span class="category">Special Variable</span>
       <span class="symbol">*default-group-separator*</span>
      </a>
     </li>
     <li>
      <a href="#kmiczee8">
       <span class="category">Special Variable</span>
       <span class="symbol">*default-decimal-point*</span>
      </a>
     </li>
     <li>
      <a href="#wdd5ur84">
       <span class="category">Special Variable</span>
       <span class="symbol">*default-exponent-marker*</span>
      </a>
     </li>
     <li>
      <a href="#jky32s8h">
       <span class="category">Function</span>
       <span class="symbol">read-integer</span>
      </a>
     </li>
     <li>
      <a href="#y8h2eqpn">
       <span class="category">Function</span>
       <span class="symbol">read-float</span>
      </a>
     </li>
    </ul>
   </div>
  </div>
  <div class="dictionary">
   <div class="definition" id="kk5ncx2r">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">*default-plus-sign*</span></a></td>
	<td class="lambda-list"></td>
	<td class="category"><span class="category">Special Variable</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Controls the set of valid plus sign characters when reading an
external number representation and no explicit plus sign keyword
argument is specified.  Value has to be a sequence of characters.
The default is ‘+’ (Unicode U+002B, plus sign).</pre>
    </div>
   </div>
   <div class="definition" id="bpdr3zr8">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">*default-minus-sign*</span></a></td>
	<td class="lambda-list"></td>
	<td class="category"><span class="category">Special Variable</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Controls the set of valid minus sign characters when reading an
external number representation and no explicit minus sign keyword
argument is specified.  Value has to be a sequence of characters.
The default is ‘-’ (Unicode U+002D, hyphen-minus).

Another candidate for this character set is ‘−’ (Unicode U+2212,
minus sign).</pre>
    </div>
   </div>
   <div class="definition" id="h2a4ij2e">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">*default-group-separator*</span></a></td>
	<td class="lambda-list"></td>
	<td class="category"><span class="category">Special Variable</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Controls the set of valid group separator characters when reading
an external number representation and no explicit group separator
keyword argument is specified.  Value has to be a sequence of
characters.  The default is the empty set.

Candidates for this character set are ‘'’ (Unicode U+0027, apostrophe),
‘_’ (Unicode U+005F, low line), ‘ ’ (Unicode U+00A0, no-break space),
and ‘ ’ (Unicode U+202F, narrow no-break space).  The preferred group
separator according to ISO 31 is the narrow no-break space character.</pre>
    </div>
   </div>
   <div class="definition" id="kmiczee8">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">*default-decimal-point*</span></a></td>
	<td class="lambda-list"></td>
	<td class="category"><span class="category">Special Variable</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Controls the set of valid decimal point (or better radix point)
characters when reading an external number representation and no
explicit decimal point keyword argument is specified.  Value has to
be a sequence of characters.  The default is ‘.’ (Unicode U+002E,
full stop).

Another candidate for this character set is ‘,’ (Unicode U+002C,
comma).  ISO 31 uses the decimal point in the international English
version of the standard and the decimal comma in the original French
version.  Interactive applications should accept both variants to
improve usability.</pre>
    </div>
   </div>
   <div class="definition" id="wdd5ur84">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">*default-exponent-marker*</span></a></td>
	<td class="lambda-list"></td>
	<td class="category"><span class="category">Special Variable</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Controls the set of valid exponent marker characters when reading
an external number representation and no explicit exponent marker
keyword argument is specified.  Value has to be a sequence of
characters.  The default is ‘E’, ‘e’, ‘D’, and ‘d’.

Another candidate for this character set is ‘⏨’ (Unicode U+23E8,
decimal exponent symbol).</pre>
    </div>
   </div>
   <div class="definition" id="jky32s8h">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">read-integer</span></a></td>
	<td class="lambda-list"><span class="lambda-list">(<span class="lambda-list-keyword">&amp;optional</span> <span class="variable">input-stream</span> <span class="variable">eof-error-p</span> <span class="variable">eof-value</span> <span class="variable">recursivep</span> <span class="lambda-list-keyword">&amp;key</span> <span class="variable">unsigned-number</span> <span class="variable">plus-sign</span> <span class="variable">minus-sign</span> <span class="variable">group-separator</span> <span class="variable">radix</span>)</span></td>
	<td class="category"><span class="category">Function</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Read an integer from an input stream.

Optional first argument INPUT-STREAM is an input stream designator.
 The default is standard input.
Optional second argument EOF-ERROR-P is a generalized boolean.
 If an end of file error occurs and EOF-ERROR-P is false, EOF-VALUE
 is returned.  Otherwise, signal an ‘end-of-file’ error.  The default
 is true.
Optional third argument EOF-VALUE is an object.  See above for more
 details.  The default is nil.
Optional fourth argument RECURSIVEP is a generalized boolean.  True
 means that this call is expected to be embedded in a higher-level
 call to ‘read’ or a similar function used by the Lisp reader.  The
 default is false.
Keyword argument UNSIGNED-NUMBER is a generalized boolean.  True means
 to read an unsigned positive number.  If UNSIGNED-NUMBER is ‘:plus’,
 an explicit plus sign character signals a ‘parse-error’ but negative
 numbers are permitted.  The default is false.
Keyword argument PLUS-SIGN is a sequence of valid plus sign
 characters.  The plus sign is used to denote a positive number.
 The default is the value of the ‘<a href="#kk5ncx2r"><span class="symbol">*default-plus-sign*</span></a>’ special
 variable.
Keyword argument MINUS-SIGN is a sequence of valid minus sign
 characters.  The minus sign is used to denote a negative number.
 The default is the value of the ‘<a href="#bpdr3zr8"><span class="symbol">*default-minus-sign*</span></a>’ special
 variable.
Keyword argument GROUP-SEPARATOR is a sequence of valid group
 separator characters.  The group separator is used to separate the
 digits of a number into groups.  The default is the value of the
 ‘<a href="#h2a4ij2e"><span class="symbol">*default-group-separator*</span></a>’ special variable.  The group separator
 of a number cannot change, i.e. the first matching group separator
 fixes the group separator for the rest of the number.
Keyword argument RADIX is a radix.  Value has to be an integer between
 2 and 36, inclusive.  The default is 10.  Case is not significant for
 the digit characters ‘A’ to ‘Z’ when parsing numbers with a radix
 greater than 10.

Return value is an integer.  Secondary value is the number of
characters read.

The ‘read-integer’ function expects an optional sign followed by a
non-empty sequence of digits in the specified radix.  It does not
recognize a decimal point or exponent marker.  Leading or trailing
whitespace is not ignored.

If the file ends in the middle of an integer representation,
‘read-integer’ signals an ‘end-of-file’ error regardless of
the value of the EOF-ERROR-P argument.

The result is undefined if the sequences of valid plus and minus
sign characters intersect.</pre>
    </div>
   </div>
   <div class="definition" id="y8h2eqpn">
    <div class="signature">
     <table class="signature">
      <colgroup>
       <col />
       <col />
       <col />
      </colgroup>
      <tbody>
       <tr>
	<td class="symbol"><a href="#contents"><span class="symbol">read-float</span></a></td>
	<td class="lambda-list"><span class="lambda-list">(<span class="lambda-list-keyword">&amp;optional</span> <span class="variable">input-stream</span> <span class="variable">eof-error-p</span> <span class="variable">eof-value</span> <span class="variable">recursivep</span> <span class="lambda-list-keyword">&amp;key</span> <span class="variable">unsigned-number</span> <span class="variable">plus-sign</span> <span class="variable">minus-sign</span> <span class="variable">group-separator</span> <span class="variable">decimal-point</span> <span class="variable">exponent-marker</span> <span class="variable">float-format</span> <span class="variable">significand-radix</span> <span class="variable">exponent-radix</span> <span class="variable">exponent-base</span>)</span></td>
	<td class="category"><span class="category">Function</span></td>
       </tr>
      </tbody>
     </table>
    </div>
    <div class="documentation">
     <pre>Read a floating-point number from an input stream.

Optional first argument INPUT-STREAM is an input stream designator.
 The default is standard input.
Optional second argument EOF-ERROR-P is a generalized boolean.
 If an end of file error occurs and EOF-ERROR-P is false, EOF-VALUE
 is returned.  Otherwise, signal an ‘end-of-file’ error.  The default
 is true.
Optional third argument EOF-VALUE is an object.  See above for more
 details.  The default is nil.
Optional fourth argument RECURSIVEP is a generalized boolean.  True
 means that this call is expected to be embedded in a higher-level
 call to ‘read’ or a similar function used by the Lisp reader.  The
 default is false.
Keyword argument UNSIGNED-NUMBER is a generalized boolean.  True means
 to read an unsigned positive number.  If UNSIGNED-NUMBER is ‘:plus’,
 an explicit plus sign character signals a ‘parse-error’ but negative
 numbers are permitted.  The default is false.
Keyword argument PLUS-SIGN is a sequence of valid plus sign
 characters.  The plus sign is used to denote a positive number.
 The default is the value of the ‘<a href="#kk5ncx2r"><span class="symbol">*default-plus-sign*</span></a>’ special
 variable.
Keyword argument MINUS-SIGN is a sequence of valid minus sign
 characters.  The minus sign is used to denote a negative number.
 The default is the value of the ‘<a href="#bpdr3zr8"><span class="symbol">*default-minus-sign*</span></a>’ special
 variable.
Keyword argument GROUP-SEPARATOR is a sequence of valid group
 separator characters.  The group separator is used to separate the
 digits of a number into groups.  The default is the value of the
 ‘<a href="#h2a4ij2e"><span class="symbol">*default-group-separator*</span></a>’ special variable.  The group separator
 of a number cannot change, i.e. the first matching group separator
 fixes the group separator for the rest of the number.
Keyword argument DECIMAL-POINT is a sequence of valid decimal point
 characters.  The decimal point is used to separate the integer part
 of the significand from its fractional part.  The default is the
 value of the ‘<a href="#kmiczee8"><span class="symbol">*default-decimal-point*</span></a>’ special variable.
Keyword argument EXPONENT-MARKER is a sequence of valid exponent
 marker characters.  The exponent marker is used to separate the
 significand from the exponent.  It does not specify the data type
 of the return value.  The default is the value of the
 ‘<a href="#wdd5ur84"><span class="symbol">*default-exponent-marker*</span></a>’ special variable.
Keyword argument FLOAT-FORMAT specifies the data type of the
 return value.  Value is either ‘short-float’, ‘single-float’,
 ‘double-float’, or ‘long-float’.  The default is the value of the
 ‘*read-default-float-format*’ special variable.  A value of ‘nil’
 means that the return value is a rational number.
Keyword argument SIGNIFICAND-RADIX and EXPONENT-RADIX is the radix
 for the digits of the significand and exponent respectively.  Value
 has to be an integer between 2 and 36, inclusive.  The default is 10.
 Case is not significant for the digit characters ‘A’ to ‘Z’ when
 parsing numbers with a radix greater than 10.
Keyword argument EXPONENT-BASE is the base of the power term.  Value
 has to be an integer greater than or equal to 2.  The default is 10.

Return value is a floating-point number of type FLOAT-FORMAT iff a
decimal point or exponent part is present and FLOAT-FORMAT is not
null.  Otherwise, value is a rational number.  Secondary value is
the number of characters read.

The ‘read-float’ function expects an optional sign followed by a
non-empty sequence of digits.  It does recognize a decimal point and
an exponent part.  Leading or trailing whitespace is not ignored.

If the file ends in the middle of a floating-point number
representation, ‘read-float’ signals an ‘end-of-file’ error
regardless of the value of the EOF-ERROR-P argument.

Converting a floating-point number to the specified FLOAT-FORMAT
type may signal an ‘arithmetic-error’ condition, for example, a
‘floating-point-overflow’ or ‘floating-point-underflow’ error.

The result is undefined if the sequences of valid plus and minus
sign characters intersect.</pre>
    </div>
   </div>
  </div>
 </body>
</html>
